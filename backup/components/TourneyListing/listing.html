<div class="container-fluid">
    <div v-if="loading||error" class="row">
        <div v-if="loading" class="col">
            <alert-loading></alert-loading>
        </div>
        <div v-if="error" class="col">
            <alert-error>
                <p slot="error">{{error}}</p>
                <p slot="error_msg">{{error_msg}}</p>
            </alert-error>
        </div>
    </div>
    <div class="row justify-content-center">
        <div v-if="!(error||loading)" class="col-md-8">
            <template>
                <b-pagination align="center" :total-rows="+WPtotal" @change="fetchList" v-model="currentPage" :per-page="10"
                    :hide-ellipsis="false" aria-label="Navigation" />
            </template>
            <ul class="list-unstyled tourney-list">
                <b-media no-body v-for="item in tourneys" :key="item.id">
                    <b-media-aside vertical-align="center">
                        <router-link :to="{ name: 'TourneyDetail', params: { slug: item.slug}}">
                            <b-img vertical-align="center" class="align-self-center mr-1 thumbnail d-none d-sm-block"
                                :src="item.event_logo" width="100" height="100" :alt="item.event_logo_title" />
                        </router-link>
                    </b-media-aside>
                    <b-media-body class="ml-0 my-1">
                        <h2 class="mb-1 display-5">
                            <router-link v-if="item.slug" :to="{ name: 'TourneyDetail', params: { slug: item.slug}}">
                                {{item.title}}
                            </router-link>
                        </h2>
                        <div class="text-center">
                            <div class="d-inline p-1">
                                <small><i class="fa fa-calendar"></i>
                                    {{item.start_date}}
                                </small>
                            </div>
                            <div class="d-inline p-1">
                                <small><i class="fa fa-map-marker"></i>
                                    {{item.venue}}
                                </small>
                            </div>
                            <div class="d-inline p-1">
                                <router-link v-if="item.slug" :to="{ name: 'TourneyDetail', params: { slug: item.slug}}">
                                    <small title="Browse tourney"><i class="fa fa-link"></i>
                                    </small>
                                </router-link>
                            </div>
                            <ul class="list-unstyled list-inline text-center category-list">
                                <li class="list-inline-item" v-for="(category, c) in item.tou_categories" :key="c">
                                    {{category.cat_name}}
                                </li>
                            </ul>
                        </div>
                    </b-media-body>
                </b-media>
            </ul>
            <template>
                <b-pagination align="center" :total-rows="+WPtotal" @change="fetchList" v-model="currentPage" :per-page="10"
                    :hide-ellipsis="false" aria-label="Navigation" />
            </template>
        </div>
    </div>
</div>